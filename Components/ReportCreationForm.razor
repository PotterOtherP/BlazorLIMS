@using System;
@using BlazorLIMS.Data;

<div style="display: flex; flex-direction: column; width: 30%">

<h1 style="margin: 20px">PWSM Lab Receiving</h1>

<select @bind="CreateSampleType" style="margin: 20px">
    <option value="Plant">Plant</option>
    <option value="Waste">Waste</option>
    <option value="Solution">Solution</option>
    <option value="Media">Media</option>
</select>

<select @bind="CreateReportType" style="margin: 20px">
    <option value="Predictive">Predictive</option>
    <option value="Diagnostic">Diagnostic</option>
    <option value="Research">Research</option>
    <option value="Internal">Internal</option>
    <option value="OutOfState">Out of State</option>
</select>

<select @bind="CreateSampleCode" style="margin: 20px">
    @{
        if (CreateSampleType == "Plant")
        {
            foreach(string pCode in Info.PlantCodes)
            {
                <option value="@pCode">@pCode</option>
            }
        }

        else if (CreateSampleType == "Waste")
        {
            foreach(string wCode in Info.WasteCodes)
            {
                <option value="@wCode">@wCode</option>
            }
        }

        else if (CreateSampleType == "Solution")
        {
            foreach(string sCode in Info.SolutionCodes)
            {
                <option value="@sCode">@sCode</option>
            }
        }

        else if (CreateSampleType == "Media")
        {
            foreach(string mCode in Info.MediaCodes)
            {
                <option value="@mCode">@mCode</option>
            }
        }
    }
</select>

<input @bind="CreateNumberOfSamples" type="number" style="margin: 20px; width: 15%">

<input @bind="CreateReportDate" type="date" style="margin: 20px; width: 35%">

<button @onclick="PrintDataToConsole" style="margin: 20px">Create Grid</button>

</div>

@code {

    private string CreateReportType = "Predictive";
    private string CreateSampleType = "Plant";
    private string CreateSampleCode = Info.PlantCodes[0];
    private int CreateNumberOfSamples = 1;
    private DateTime CreateReportDate = DateTime.Now;

    private ReportModel Report;

    private void CreateReportFromForm() {

        Report = new ReportModel();

        // Get next report number and sample numbers from database

        Report.ReportType = CreateReportType;
        Report.SampleType = CreateSampleType;
        Report.DateReceived = CreateReportDate;
        Report.IsComplete = false;
        Report.IsDeleted = false;



    }


    private void PrintDataToConsole() {

        Console.WriteLine($"Report type: {CreateReportType}");
        Console.WriteLine($"Sample type: {CreateSampleType}");
        Console.WriteLine($"Sample code: {CreateSampleCode}");
        Console.WriteLine($"Number of samples: {CreateNumberOfSamples}");
        Console.WriteLine($"Date Received: {CreateReportDate}");

    }
}